const dropdown=document.querySelector(".dropdown"),dropdownButton=dropdown.querySelector(".dropdown__button"),dropdownList=dropdown.querySelector(".dropdown__list"),dropdownItemList=dropdownList.querySelectorAll(".dropdown__item"),dropdownArrow=dropdownButton.querySelector(".dropdown__arrow"),dropdownSelected=dropdown.querySelector(".dropdown__selected");let dropdownIndexCounter=0;const currentSelected=()=>{dropdownItemList[dropdownIndexCounter].classList.add("dropdown__item--current")};dropdownItemList[dropdownIndexCounter].classList.add("dropdown__item--current");const onEscDown=o=>{"Escape"===o.key&&dropdownVisiblyHandler()},onClickAway=o=>{o.target.closest(".dropdown")||dropdownVisiblyHandler()},onArrowDown=o=>{"ArrowDown"===o.key&&(o.preventDefault(),dropdownIndexCounter>=0&&dropdownIndexCounter<dropdownItemList.length-1&&(dropdownItemList[dropdownIndexCounter+1].classList.add("dropdown__item--focus"),dropdownItemList[dropdownIndexCounter].classList.remove("dropdown__item--focus"),dropdownIndexCounter+=1))},onArrowUp=o=>{"ArrowUp"===o.key&&(o.preventDefault(),dropdownIndexCounter<=dropdownItemList.length-1&&0!==dropdownIndexCounter&&(dropdownItemList[dropdownIndexCounter-1].classList.add("dropdown__item--focus"),dropdownItemList[dropdownIndexCounter].classList.remove("dropdown__item--focus"),dropdownIndexCounter-=1))},onTabWhenOpen=o=>{"Tab"===o.key&&dropdownVisiblyHandler()},changeDropdownPlaceholder=o=>{dropdownSelected.textContent=o.textContent},onKeySelect=o=>{"Enter"!==o.key&&" "!==o.key||(o.preventDefault(),dropdownList.classList.contains("dropdown__list--hidden")||dropdownVisiblyHandler(),dropdownItemList.forEach((o=>{o.classList.contains("dropdown__item--current")&&o.classList.remove("dropdown__item--current"),dropdownItemList[dropdownIndexCounter].classList.add("dropdown__item--current"),changeDropdownPlaceholder(dropdownItemList[dropdownIndexCounter])})))};function dropdownVisiblyHandler(){dropdownList.classList.contains("dropdown__list--hidden")?(dropdownList.classList.remove("dropdown__list--hidden"),document.addEventListener("keydown",onEscDown),document.addEventListener("click",onClickAway),document.addEventListener("keydown",onArrowDown),document.addEventListener("keydown",onArrowUp),document.addEventListener("keydown",onTabWhenOpen),document.addEventListener("keydown",onKeySelect),dropdownArrow.classList.add("dropdown__arrow--active")):(dropdownList.classList.add("dropdown__list--hidden"),document.removeEventListener("keydown",onEscDown),document.removeEventListener("click",onClickAway),document.removeEventListener("keydown",onArrowDown),document.removeEventListener("keydown",onArrowUp),document.removeEventListener("keydown",onTabWhenOpen),document.removeEventListener("keydown",onKeySelect),dropdownArrow.classList.remove("dropdown__arrow--active"))}dropdownButton.addEventListener("click",(o=>{o.preventDefault(),dropdownVisiblyHandler()})),dropdownItemList.forEach((o=>{o.addEventListener("click",(()=>{changeDropdownPlaceholder(o),dropdownItemList.forEach((o=>{o.classList.contains("dropdown__item--current")&&o.classList.remove("dropdown__item--current")})),o.classList.add("dropdown__item--current"),dropdownIndexCounter=Number(o.dataset.index),dropdownVisiblyHandler()}))}));